{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo }} - {{ block.super }}{% endblock %}

{% block extra_css %}
<!-- Font Awesome 6 - Iconos profesionales -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- CSS personalizado para la p√°gina de selecci√≥n -->
<link rel="stylesheet" href="{% static 'css/seleccion_orden.css' %}">
{% endblock %}

{% block content %}
<!--
================================================================================
P√ÅGINA DE SELECCI√ìN DE TIPO DE ORDEN
================================================================================

EXPLICACI√ìN PARA PRINCIPIANTES:
Esta p√°gina le muestra al usuario dos opciones para crear una orden de servicio:

1. SERVICIO CON DIAGN√ìSTICO (OOW-):
   - Equipos que necesitan ser analizados
   - Requiere cotizaci√≥n
   - Cliente espera diagn√≥stico y autorizaci√≥n

2. VENTA MOSTRADOR (FL-):
   - Servicio inmediato sin diagn√≥stico previo
   - Cliente presente en el momento
   - Pago y entrega r√°pidos

El usuario DEBE elegir una opci√≥n antes de proceder al formulario correspondiente.
================================================================================
-->

<div class="seleccion-orden-wrapper">
    <div class="container">
        
        <!-- ================================================================ -->
        <!-- SECCI√ìN HERO: T√≠tulo y Subt√≠tulo                                 -->
        <!-- ================================================================ -->
        <div class="hero-section">
            <div class="hero-icon">
                <i class="fas fa-tools"></i>
            </div>
            <h1 class="hero-title">Crear Nueva Orden de Servicio</h1>
            <p class="hero-subtitle">
                Selecciona el tipo de servicio que deseas registrar para continuar
            </p>
        </div>

        <!-- ================================================================ -->
        <!-- CONTENEDOR DE CARDS: Dos opciones lado a lado                    -->
        <!-- ================================================================ -->
        <div class="cards-container">
            
            <!-- ============================================================ -->
            <!-- CARD 1: SERVICIO CON DIAGN√ìSTICO (OOW-)                     -->
            <!-- ============================================================ -->
            <div class="service-card diagnostico">
                <div class="service-card-content">
                    <!-- √çcono representativo -->
                    <div class="service-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    
                    <!-- T√≠tulo del tipo de servicio -->
                    <h2 class="service-title">Servicio con Diagn√≥stico</h2>
                    
                    <!-- Badge con el prefijo -->
                    <div class="service-prefix">
                        <i class="fas fa-tag"></i> Prefijo: OOW-
                    </div>
                    
                    <!-- Lista de caracter√≠sticas -->
                    <ul class="service-features">
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Requiere an√°lisis t√©cnico
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Cotizaci√≥n previa
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Cliente espera autorizaci√≥n
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Tiempo de diagn√≥stico estimado
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Seguimiento completo
                        </li>
                    </ul>
                    
                    <!-- Bot√≥n de acci√≥n -->
                    <a href="{% url 'servicio_tecnico:crear_orden' %}" class="service-button">
                        <span>Crear Orden OOW-</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- ============================================================ -->
            <!-- CARD 2: VENTA MOSTRADOR (FL-)                                -->
            <!-- ============================================================ -->
            <div class="service-card venta-mostrador">
                <div class="service-card-content">
                    <!-- √çcono representativo -->
                    <div class="service-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    
                    <!-- T√≠tulo del tipo de servicio -->
                    <h2 class="service-title">Venta Mostrador</h2>
                    
                    <!-- Badge con el prefijo -->
                    <div class="service-prefix">
                        <i class="fas fa-tag"></i> Prefijo: FL-
                    </div>
                    
                    <!-- Lista de caracter√≠sticas -->
                    <ul class="service-features">
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Servicio inmediato
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Sin diagn√≥stico previo
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Cliente presente
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Cobro directo
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            Entrega r√°pida
                        </li>
                    </ul>
                    
                    <!-- Bot√≥n de acci√≥n -->
                    <a href="{% url 'servicio_tecnico:crear_orden_venta_mostrador' %}" class="service-button">
                        <span>Crear Orden FL-</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>

        </div>

        <!-- ================================================================ -->
        <!-- SECCI√ìN DE INFORMACI√ìN: Ayuda adicional                          -->
        <!-- ================================================================ -->
        <div class="info-section">
            <div class="info-box">
                <i class="fas fa-info-circle"></i>
                <p>
                    <strong>¬øNo est√°s seguro cu√°l elegir?</strong><br>
                    Usa <strong>Diagn√≥stico (OOW-)</strong> cuando el equipo requiera an√°lisis 
                    y cotizaci√≥n previa. Usa <strong>Venta Mostrador (FL-)</strong> para servicios 
                    r√°pidos con el cliente presente.
                </p>
            </div>
        </div>

    </div>
</div>
{% endblock %}

{% block extra_js %}
<!--
================================================================================
JAVASCRIPT PARA INTERACTIVIDAD ADICIONAL
================================================================================

EXPLICACI√ìN PARA PRINCIPIANTES:
Este script agrega peque√±as mejoras de experiencia de usuario:
- Efectos de sonido al hacer hover (opcional)
- Confirmaci√≥n antes de proceder (opcional)
- Atajos de teclado para selecci√≥n r√°pida
================================================================================
-->
<script>
// ============================================================================
// Esperar a que el DOM est√© completamente cargado
// ============================================================================
document.addEventListener('DOMContentLoaded', function() {
    
    // ========================================================================
    // ATAJOS DE TECLADO - Acceso r√°pido para usuarios avanzados
    // ========================================================================
    document.addEventListener('keydown', function(e) {
        // Tecla "1" = Servicio con Diagn√≥stico (OOW-)
        if (e.key === '1') {
            e.preventDefault();
            window.location.href = "{% url 'servicio_tecnico:crear_orden' %}";
        }
        
        // Tecla "2" = Venta Mostrador (FL-)
        if (e.key === '2') {
            e.preventDefault();
            window.location.href = "{% url 'servicio_tecnico:crear_orden_venta_mostrador' %}";
        }
    });
    
    // ========================================================================
    // EFECTO DE CLICK EN CARD COMPLETO
    // Al hacer clic en cualquier parte del card, redirigir
    // ========================================================================
    const diagnosticoCard = document.querySelector('.service-card.diagnostico');
    const ventaMostradorCard = document.querySelector('.service-card.venta-mostrador');
    
    if (diagnosticoCard) {
        diagnosticoCard.addEventListener('click', function(e) {
            // Si NO se hizo clic en el bot√≥n (para evitar doble navegaci√≥n)
            if (!e.target.closest('.service-button')) {
                window.location.href = "{% url 'servicio_tecnico:crear_orden' %}";
            }
        });
    }
    
    if (ventaMostradorCard) {
        ventaMostradorCard.addEventListener('click', function(e) {
            if (!e.target.closest('.service-button')) {
                window.location.href = "{% url 'servicio_tecnico:crear_orden_venta_mostrador' %}";
            }
        });
    }
    
    // ========================================================================
    // MENSAJE DE CONSOLA PARA DESARROLLADORES
    // ========================================================================
    console.log('%cüîß P√°gina de Selecci√≥n de Tipo de Orden', 'color: #4F46E5; font-size: 16px; font-weight: bold;');
    console.log('%cAtajos de teclado disponibles:', 'color: #6B7280; font-size: 12px;');
    console.log('%c  ‚Ä¢ Presiona "1" para Diagn√≥stico (OOW-)', 'color: #4F46E5; font-size: 12px;');
    console.log('%c  ‚Ä¢ Presiona "2" para Venta Mostrador (FL-)', 'color: #F59E0B; font-size: 12px;');
});
</script>
{% endblock %}
